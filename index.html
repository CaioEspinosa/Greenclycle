<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GREENCYCLE â€” Mapa de Reciclagem</title>
  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
  <style>
    html, body { height: 100%; }
    #map { height: 480px; }
    .leaflet-container { border-radius: 1rem; }
  </style>
</head>
<body class="min-h-screen w-full bg-gradient-to-b from-emerald-50 to-white text-slate-900">
  <!-- HEADER -->
  <header class="sticky top-0 z-40 backdrop-blur bg-white/70 border-b">
    <div class="mx-auto max-w-6xl px-4 py-3 flex items-center gap-4 justify-between">
      <div class="flex items-center gap-2">
        <!-- Logo opcional -->
        <img src="/greencycle-logo.png" alt="GREENCYCLE" class="h-9 w-9 rounded-xl object-contain" onerror="this.style.display='none'">
        <span class="font-extrabold tracking-tight text-xl">GREENCYCLE</span>
      </div>
      <nav class="hidden md:flex items-center gap-6 text-sm">
        <a class="hover:text-emerald-700" href="#mapa">Mapa</a>
        <a class="hover:text-emerald-700" href="#features">Recursos</a>
        <a class="hover:text-emerald-700" href="#pricing">Planos</a>
        <a class="hover:text-emerald-700" href="#b2b">Para Empresas</a>
        <a class="hover:text-emerald-700" href="#contato">Contato</a>
      </nav>
      <div class="flex items-center gap-2">
        <button id="btnAbrirMapa" class="px-4 py-2 rounded bg-emerald-600 text-white">Abrir Mapa</button>
      </div>
    </div>
  </header>

  <main class="mx-auto max-w-6xl px-4">
    <!-- HERO -->
    <section class="grid md:grid-cols-2 gap-8 py-12 items-center">
      <div>
        <h1 class="text-4xl md:text-5xl font-extrabold leading-tight tracking-tight">
          Reciclar ficou simples: <span class="text-emerald-700">mapa interativo</span>, <span class="text-emerald-700">cashback</span> e impacto real
        </h1>
        <p class="mt-4 text-slate-600 text-lg">
          Encontre pontos de coleta prÃ³ximos, filtre por material aceito e gere comprovantes para somar no seu ranking sustentÃ¡vel.
        </p>
        <div class="mt-6 flex gap-3">
          <button id="btnVerMapa" class="px-4 py-2 rounded bg-emerald-600 text-white">Ver mapa</button>
          <a href="#pricing" class="px-4 py-2 rounded border flex items-center gap-2"><span>ğŸ“ˆ</span>Ver planos</a>
        </div>
        <div class="mt-6 flex items-center gap-6 text-sm text-slate-600">
          <span>âš¡ Energia renovÃ¡vel nas sedes</span>
          <span>ğŸ”’ LGPD by design</span>
          <span>ğŸ† Ranking sustentÃ¡vel</span>
        </div>
      </div>
      <div class="p-6 border rounded-2xl bg-white shadow-xl">
        <h3 class="font-semibold text-lg">Como funciona</h3>
        <div class="grid gap-4 mt-3 text-sm text-slate-700">
          <div class="flex items-start gap-3">
            <div class="h-9 w-9 rounded-xl bg-emerald-600 text-white grid place-content-center">ğŸ“</div>
            <div><div class="font-semibold">Encontre pontos de coleta</div><div>Veja locais prÃ³ximos e o que cada um aceita.</div></div>
          </div>
          <div class="flex items-start gap-3">
            <div class="h-9 w-9 rounded-xl bg-emerald-600 text-white grid place-content-center">â™»ï¸</div>
            <div><div class="font-semibold">Entregue corretamente</div><div>Tutoriais, foto/QR e confirmaÃ§Ã£o (em breve).</div></div>
          </div>
          <div class="flex items-start gap-3">
            <div class="h-9 w-9 rounded-xl bg-emerald-600 text-white grid place-content-center">ğŸ†</div>
            <div><div class="font-semibold">Ganhe cashback</div><div>Pontue e troque por descontos (parceiros).</div></div>
          </div>
        </div>
      </div>
    </section>

    <!-- MAPA INTERATIVO -->
    <section id="mapa" class="py-12">
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-3xl font-bold flex items-center gap-2">ğŸ“ Mapa de pontos</h2>
        <div class="flex gap-2">
          <button id="btnLocate" class="px-3 py-2 rounded border flex items-center gap-2">ğŸ“Œ Usar minha localizaÃ§Ã£o</button>
        </div>
      </div>

      <div class="grid md:grid-cols-4 gap-6">
        <!-- Filtros -->
        <div class="md:col-span-1 h-fit p-4 border rounded-2xl bg-white">
          <div class="mb-3">
            <label class="text-sm text-slate-600">Buscar por nome</label>
            <input id="q" placeholder="Ex.: Ipiranga" class="mt-1 w-full border rounded px-3 py-2" />
          </div>
          <div class="text-sm text-slate-600 mb-2">Materiais</div>
          <div id="materials" class="grid grid-cols-2 gap-2 text-sm"></div>
          <div class="mt-3 flex gap-2">
            <button id="btnClear" class="px-3 py-2 rounded border">Limpar</button>
          </div>
        </div>

        <!-- Mapa + lista -->
        <div class="md:col-span-3 space-y-4">
          <div class="h-[480px] w-full overflow-hidden rounded-2xl border">
            <div id="map" class="h-full w-full"></div>
          </div>

          <div class="border rounded-2xl bg-white">
            <div class="px-4 py-3 border-b">
              <h3 id="count" class="text-base font-semibold">0 ponto(s) encontrados</h3>
            </div>
            <div class="p-4">
              <ul id="list" class="grid md:grid-cols-2 gap-2"></ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- RECURSOS -->
    <section id="features" class="py-12">
      <h2 class="text-3xl font-bold">Recursos principais</h2>
      <div class="mt-6 grid md:grid-cols-3 gap-6">
        <div class="p-4 border rounded-2xl bg-white">
          <div class="text-base font-semibold">ğŸ—ºï¸ Mapa inteligente</div>
          <div class="text-sm text-slate-600 mt-1">Filtre por material, horÃ¡rio e avaliaÃ§Ã£o dos pontos.</div>
        </div>
        <div class="p-4 border rounded-2xl bg-white">
          <div class="text-base font-semibold">ğŸ“Š Impacto em COâ‚‚e (em breve)</div>
          <div class="text-sm text-slate-600 mt-1">Veja COâ‚‚e evitado e metas mensais por material.</div>
        </div>
        <div class="p-4 border rounded-2xl bg-white">
          <div class="text-base font-semibold">ğŸ† Cashback + Ranking (em breve)</div>
          <div class="text-sm text-slate-600 mt-1">Recompensas progressivas e desafios mensais.</div>
        </div>
        <div class="p-4 border rounded-2xl bg-white">
          <div class="text-base font-semibold">ğŸ¤ Parcerias</div>
          <div class="text-sm text-slate-600 mt-1">Descontos em mercados/delivery/fornecedores parceiros.</div>
        </div>
        <div class="p-4 border rounded-2xl bg-white">
          <div class="text-base font-semibold">ğŸ¢ Portal B2B</div>
          <div class="text-sm text-slate-600 mt-1">RelatÃ³rios e certificaÃ§Ãµes ESG/logÃ­stica reversa.</div>
        </div>
        <div class="p-4 border rounded-2xl bg-white">
          <div class="text-base font-semibold">ğŸ”’ Privacidade</div>
          <div class="text-sm text-slate-600 mt-1">Consentimento granular e transparÃªncia sobre dados.</div>
        </div>
      </div>
    </section>

    <!-- PLANOS -->
    <section id="pricing" class="py-12">
      <h2 class="text-3xl font-bold">Planos e preÃ§os</h2>
      <div class="mt-6 grid md:grid-cols-3 gap-6">
        <div class="p-4 border rounded-2xl bg-white">
          <div class="font-semibold flex items-center justify-between">
            <span>Gratuito</span>
          </div>
          <div class="text-slate-600">R$ 0</div>
          <ul class="space-y-2 text-sm mt-2">
            <li class="flex gap-2 items-start">âœ… Mapa e filtros bÃ¡sicos</li>
            <li class="flex gap-2 items-start">âœ… Comprovante de entrega (em breve)</li>
            <li class="flex gap-2 items-start">âœ… Cashback padrÃ£o (em breve)</li>
          </ul>
          <div class="mt-3"><a href="#mapa" class="w-full inline-block text-center px-4 py-2 rounded bg-emerald-600 text-white">ComeÃ§ar</a></div>
        </div>
        <div class="p-4 border-emerald-600 border-2 rounded-2xl bg-white shadow-lg">
          <div class="font-semibold flex items-center justify-between">
            <span>Premium</span> <span class="text-xs px-2 py-1 rounded bg-emerald-100 text-emerald-800">Recomendado</span>
          </div>
          <div class="text-slate-600">R$ 9,90/mÃªs</div>
          <ul class="space-y-2 text-sm mt-2">
            <li class="flex gap-2 items-start">âœ… RelatÃ³rios personalizados (em breve)</li>
            <li class="flex gap-2 items-start">âœ… Cashback aumentado (em breve)</li>
            <li class="flex gap-2 items-start">âœ… Ranking sustentÃ¡vel premium (em breve)</li>
          </ul>
          <div class="mt-3"><a href="#mapa" class="w-full inline-block text-center px-4 py-2 rounded bg-emerald-600 text-white">Assinar</a></div>
        </div>
        <div class="p-4 border rounded-2xl bg-white">
          <div class="font-semibold">Empresas (B2B)</div>
          <div class="text-slate-600">a partir de R$ 199,90/mÃªs</div>
          <ul class="space-y-2 text-sm mt-2">
            <li class="flex gap-2 items-start">âœ… RelatÃ³rios de logÃ­stica reversa</li>
            <li class="flex gap-2 items-start">âœ… CertificaÃ§Ãµes e auditoria</li>
            <li class="flex gap-2 items-start">âœ… Portal de colaboradores</li>
          </ul>
          <div class="mt-3"><a href="#b2b" class="w-full inline-block text-center px-4 py-2 rounded bg-emerald-600 text-white">Falar com vendas</a></div>
        </div>
      </div>
    </section>

    <!-- B2B -->
    <section id="b2b" class="py-12">
      <h2 class="text-3xl font-bold">Portal B2B â€“ DemonstraÃ§Ã£o</h2>
      <div class="mt-6 grid md:grid-cols-2 gap-6">
        <div class="p-4 border rounded-2xl bg-white">
          <div class="font-semibold text-lg">BenefÃ­cios ESG prÃ¡ticos</div>
          <div class="text-slate-700 space-y-2 text-sm mt-2">
            <div class="flex gap-2 items-start">âœ… RelatÃ³rios mensais de materiais por unidade</div>
            <div class="flex gap-2 items-start">âœ… IntegraÃ§Ã£o via API/CSV</div>
            <div class="flex gap-2 items-start">âœ… Campanhas internas + ranking por time</div>
            <div class="flex gap-2 items-start">âœ… CertificaÃ§Ã£o de boas prÃ¡ticas</div>
          </div>
          <div class="mt-4">
            <a href="#b2b-form" class="px-4 py-2 rounded bg-emerald-600 text-white inline-block">Solicitar demo</a>
          </div>
        </div>

        <div id="b2b-form" class="p-4 border rounded-2xl bg-white">
          <div class="font-semibold text-lg">Solicite uma demonstraÃ§Ã£o</div>
          <div class="text-sm text-slate-600">Retornamos em atÃ© 1 dia Ãºtil</div>
          <div class="space-y-3 mt-3">
            <input placeholder="Nome" class="w-full border rounded px-3 py-2" />
            <input placeholder="Empresa" class="w-full border rounded px-3 py-2" />
            <input placeholder="E-mail corporativo" class="w-full border rounded px-3 py-2" />
            <textarea placeholder="Conte em 2 linhas o que vocÃª precisa" class="w-full border rounded px-3 py-2"></textarea>
          </div>
          <div class="mt-3">
            <button class="w-full px-4 py-2 rounded bg-emerald-600 text-white">ğŸ¢ Falar com vendas</button>
          </div>
        </div>
      </div>
    </section>

    <!-- CONTATO -->
    <section id="contato" class="py-12">
      <h2 class="text-3xl font-bold">Fale com a gente</h2>
      <p class="text-slate-600 mt-2">DÃºvidas, parcerias ou mÃ­dia? Nos envie uma mensagem. ğŸ“©</p>
      <div class="mt-6 grid md:grid-cols-2 gap-6">
        <div class="p-4 border rounded-2xl bg-white">
          <div class="font-semibold text-lg">Envie uma mensagem</div>
          <div class="text-sm text-slate-600">Respondemos em atÃ© 1 dia Ãºtil</div>
          <div class="space-y-3 mt-3">
            <input placeholder="Seu nome" class="w-full border rounded px-3 py-2" />
            <input placeholder="Seu e-mail" class="w-full border rounded px-3 py-2" />
            <textarea placeholder="Como podemos ajudar?" class="w-full border rounded px-3 py-2"></textarea>
          </div>
          <div class="mt-3">
            <button class="w-full px-4 py-2 rounded bg-emerald-600 text-white">Enviar</button>
          </div>
        </div>

        <div class="p-4 border rounded-2xl bg-white text-sm text-slate-700 space-y-2">
          <div>ğŸ“§ E-mail: <a class="text-emerald-700 underline" href="mailto:contato@greencycle.com">contato@greencycle.com</a></div>
          <div>ğŸ’¬ WhatsApp: <a class="text-emerald-700 underline" href="#">(11) 99999-9999</a></div>
          <div>ğŸ“ SÃ£o Paulo â€” SP</div>
          <div>â° Segâ€“Sex, 9hâ€“18h</div>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER + LGPD -->
  <footer class="mt-16 border-t">
    <div class="mx-auto max-w-6xl px-4 py-8 text-sm text-slate-600 flex flex-col md:flex-row items-center justify-between gap-3">
      <span>Â© <span id="year"></span> GREENCYCLE. Todos os direitos reservados.</span>
      <div class="flex items-center gap-4">
        <a class="hover:text-emerald-700" href="#">PolÃ­tica de Privacidade</a>
        <a class="hover:text-emerald-700" href="#">Termos</a>
      </div>
    </div>

    <div class="mx-auto max-w-6xl px-4 pb-10">
      <div class="p-4 rounded-2xl bg-emerald-50 border border-emerald-200">
        <div class="font-semibold text-base">Privacidade</div>
        <div class="text-sm text-slate-600">Consentimento (LGPD)</div>
        <div class="space-y-4 mt-3">
          <label class="flex items-center justify-between">
            <div>
              <div class="font-medium">Aceito a PolÃ­tica de Privacidade</div>
              <div class="text-xs text-slate-600">Consentimento granular e revogÃ¡vel</div>
            </div>
            <input type="checkbox" id="lgpdAccepted" class="h-4 w-4">
          </label>
          <label class="flex items-center justify-between">
            <div>
              <div class="font-medium">Receber ofertas e desafios por e-mail</div>
              <div class="text-xs text-slate-600">Opt-in marketing</div>
            </div>
            <input type="checkbox" id="optin" class="h-4 w-4">
          </label>
          <div class="grid md:grid-cols-2 gap-2">
            <input placeholder="Seu e-mail" class="w-full border rounded px-3 py-2" />
            <button id="savePrefs" class="px-4 py-2 rounded bg-emerald-600 text-white disabled:opacity-50" disabled>Salvar</button>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <script>
    const ALL_MATERIALS = ["PET","AlumÃ­nio","PapelÃ£o","Vidro","PlÃ¡stico","EletrodomÃ©sticos"];
    const MOCK_POINTS = [
      { id: 1,  name: "Ecoponto Ipiranga",     lat: -23.593, lng: -46.606, materials: ["PapelÃ£o","PlÃ¡stico","Vidro"], rating: 4.6, hours: "08:00â€“18:00" },
      { id: 2,  name: "Coop Recicla Mooca",    lat: -23.563, lng: -46.591, materials: ["AlumÃ­nio","PET"],             rating: 4.4, hours: "09:00â€“17:00" },
      { id: 3,  name: "Ponto Verde â€“ Cambuci", lat: -23.565, lng: -46.624, materials: ["PlÃ¡stico","EletrodomÃ©sticos"], rating: 4.1, hours: "10:00â€“19:00" },
      { id: 4,  name: "Cooperativa Liberdade", lat: -23.561, lng: -46.639, materials: ["PapelÃ£o","AlumÃ­nio"],         rating: 4.3, hours: "08:00â€“18:00" },
      { id: 5,  name: "Ecoponto AclimaÃ§Ã£o",    lat: -23.575, lng: -46.621, materials: ["Vidro","PET","PlÃ¡stico"],     rating: 4.5, hours: "07:00â€“17:00" },
      { id: 6,  name: "Ponto Vila Mariana",    lat: -23.589, lng: -46.634, materials: ["PapelÃ£o","PlÃ¡stico"],         rating: 4.2, hours: "08:00â€“18:00" },
      { id: 7,  name: "Coleta Bela Vista",     lat: -23.556, lng: -46.646, materials: ["PapelÃ£o","PET"],              rating: 4.3, hours: "09:00â€“17:00" },
      { id: 8,  name: "Eco Pinheiros",         lat: -23.561, lng: -46.699, materials: ["PapelÃ£o","PET"],              rating: 4.4, hours: "08:00â€“18:00" },
      { id: 9,  name: "Recicla ConsolaÃ§Ã£o",    lat: -23.556, lng: -46.661, materials: ["PlÃ¡stico","EletrodomÃ©sticos"], rating: 4.0, hours: "10:00â€“19:00" },
      { id: 10, name: "Eco Itaim Bibi",        lat: -23.580, lng: -46.674, materials: ["PapelÃ£o","PET"],              rating: 4.5, hours: "08:00â€“18:00" }
    ];

    // ano no rodapÃ©
    document.getElementById('year').textContent = new Date().getFullYear();

    // LGPD save enable
    const lgpdAccepted = document.getElementById('lgpdAccepted');
    const savePrefs = document.getElementById('savePrefs');
    lgpdAccepted.addEventListener('change', () => {
      savePrefs.disabled = !lgpdAccepted.checked;
    });

    // NavegaÃ§Ã£o
    document.getElementById('btnVerMapa').onclick   = () => document.getElementById('mapa').scrollIntoView({behavior:'smooth'});
    document.getElementById('btnAbrirMapa').onclick = () => document.getElementById('mapa').scrollIntoView({behavior:'smooth'});

    // Mapa
    const map = L.map('map').setView([-23.5505, -46.6333], 13);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: '&copy; OpenStreetMap contributors' }).addTo(map);
    const markersLayer = L.layerGroup().addTo(map);

    // Filtros
    const qEl = document.getElementById('q');
    const matsEl = document.getElementById('materials');
    const listEl = document.getElementById('list');
    const countEl = document.getElementById('count');

    const selected = new Set();
    ALL_MATERIALS.forEach(m => {
      const b = document.createElement('button');
      b.className = 'text-sm px-3 py-2 rounded-xl border bg-white hover:bg-emerald-50';
      b.textContent = m;
      b.onclick = () => {
        if (selected.has(m)) { selected.delete(m); b.classList.remove('bg-emerald-600','text-white','border-emerald-600'); }
        else { selected.add(m); b.classList.add('bg-emerald-600','text-white','border-emerald-600'); }
        render();
      };
      matsEl.appendChild(b);
    });

    document.getElementById('btnClear').onclick = () => { selected.clear(); qEl.value=''; render(); };

    document.getElementById('btnLocate').onclick = () => {
      if (!navigator.geolocation) return;
      navigator.geolocation.getCurrentPosition(pos => {
        map.setView([pos.coords.latitude, pos.coords.longitude], 14);
      });
    };

    function filterPoints() {
      const q = qEl.value.trim().toLowerCase();
      return MOCK_POINTS.filter(p => {
        const matchesQuery = q ? p.name.toLowerCase().includes(q) : true;
        const mats = Array.from(selected);
        const matchesMaterials = mats.length ? mats.every(m => p.materials.includes(m)) : true; // AND
        return matchesQuery && matchesMaterials;
      });
    }

    function render() {
      const pts = filterPoints();
      // markers
      markersLayer.clearLayers();
      pts.forEach(p => {
        const m = L.marker([p.lat,p.lng]).addTo(markersLayer);
        m.bindPopup(`<div class="text-sm">
            <div class="font-semibold">${p.name}</div>
            <div class="text-xs text-slate-600">${p.materials.join(', ')} â€¢ â­ ${p.rating}</div>
            <div class="text-xs text-slate-600">HorÃ¡rio: ${p.hours}</div>
            <div class="mt-2"><a target="_blank" rel="noreferrer" href="https://www.google.com/maps/dir/?api=1&destination=${p.lat},${p.lng}">TraÃ§ar rota</a></div>
          </div>`);
      });

      // list
      listEl.innerHTML = '';
      pts.forEach(p => {
        const li = document.createElement('li');
        li.className = 'p-3 rounded-xl border flex items-center justify-between';
        li.innerHTML = `<div><div class="font-semibold">${p.name}</div><div class="text-xs text-slate-500">${p.materials.join(', ')} â€¢ â­ ${p.rating}</div></div>
                        <a class="px-3 py-1 rounded border" target="_blank" rel="noreferrer" href="https://www.google.com/maps/dir/?api=1&destination=${p.lat},${p.lng}">Rota</a>`;
        listEl.appendChild(li);
      });
      countEl.textContent = `${pts.length} ponto(s) encontrados`;
    }

    render();
  </script>
</body>
</html>
